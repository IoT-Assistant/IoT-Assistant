<div class="card-header text-center">
	<h3 class="card-title">Settings</h3>
	<h5 class="description">This Wizard will guide you to set IoT Assistant settings</h5>
	<div class="wizard-navigation">
		<ul>
			<li class="nav-item"><a class="nav-link active href-not-active"
				href="#security" data-toggle="tab" role="tab" aria-controls="info"
				aria-selected="true"> <i class="nc-icon nc-alert-circle-i"></i>
					Security
			</a></li>
			<li class="nav-item"><a class="nav-link href-not-active"
				href="#mqtt" data-toggle="tab" role="tab"
				aria-controls="interface" aria-selected="true"> <i
					class="nc-icon nc-bullet-list-67"></i> MQTT
			</a></li>
			<li class="nav-item"><a class="nav-link href-not-active"
				href="#ttn" data-toggle="tab" role="tab"
				aria-controls="settings" aria-selected="true"> <i
					class="nc-icon nc-settings"></i> TTN
			</a></li>
			<li class="nav-item"><a class="nav-link href-not-active"
				href="#telegram" data-toggle="tab" role="tab"
				aria-controls="settings" aria-selected="true"> <i
					class="nc-icon nc-settings"></i> Telegram
			</a></li>
			<li class="nav-item"><a class="nav-link href-not-active"
				href="#summary" data-toggle="tab" role="tab"
				aria-controls="settings" aria-selected="true"> <i
					class="nc-icon nc-settings"></i> Summary
			</a></li>
		</ul>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {

		var validatorRules = {
				rules: {
					usernameInput : "required",
					passwordInput : "required",
					repeatPasswordInput : { 
						required: true, equalTo: '[name="passwordInput"]'
					},
					ttnBrokerInput : {
						required: function(element){
				        	return $('[name="ttnClientIdInput"]').val()!="";
					    },
						brokerurl: true
					},
					ttnClientIdInput: {
					    required: function(element){
				        	return $('[name="ttnBrokerInput"]').val()!="";
					    }
					},
					mqttBrokerInput : {
						required: function(element){
					    	return $('[name="mqttClientIdInput"]').val()!="";
					    },
						brokerurl: true
					},
					mqttClientIdInput: {
					    required: function(element){
					    	return $('[name="mqttBrokerInput"]').val()!="";
					    }
					},
					telegramTokenInput : {
						required: function(element){
					    	return $('[name="telegramIdInput"]').val()!="" || $('[name="telegramUsernameInput"]').val()!="";
					    }
					},
					telegramIdInput: {
					    required: function(element){
					    	return $('[name="telegramTokenInput"]').val()!="";
					    }
					},
					telegramUsernameInput: {
					    required: function(element){
					    	return $('[name="telegramTokenInput"]').val()!="";
					    }
					}
				},
				messages: {
		            interfaceInput: {
		                required: "Select at least one interface"
		            }
					
				},
				errorPlacement: function(error, element) {
		            error.appendTo( element.parent("div") );
		        },
				highlight: function(element) {
					$(element).closest('.form-group').removeClass('has-success').addClass('has-danger');
				},
				unhighlight: function(element) {
					$(element).closest('.form-group').removeClass('has-danger').addClass('has-success');
				}
				
			}			
			setTimeout(function() {
				$('.card.card-wizard').addClass('active');
				$(".selectpicker").selectpicker('refresh');
				wizard.initWizard(validatorRules);
			}, 200);

		

	});
</script>